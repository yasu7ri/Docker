# Redisレプリケーションの簡単な構成

```
Docker
(xxx.xxx.xxx.xxx)
+-------------------------------------------------------------------+
|                                                                   |
|              +-----------+              +-----------+             |
|              |           |              |           |             |
|              |   Redis   |              |   Redis   |             |
|              |  Sentinel |              |  Sentinel |             |
|              |           |              |           |             |
|              +-----------+              +-----------+             |
|                port:9001                  port:9002               |
|                    +                          +                   |
|                    |                          |                   |
|                    |                          |                   |
|                    |                          |                   |
|     +---------------------------+--------------------------+      |
|     |                           |                          |      |
|     |                           |                          |      |
|     |                           |                          |      |
|     |                           |                          |      |
| +-----------+             +-----------+             +-----------+ |
| |  Redis    |             |  Redis    |             |  Redis    | |
| |  Server   +-------------+  Server   +-------------+  Server   | |
| |  (SLAVE2) | replication |  (MASTER) | replication |  (SLAVE1) | |
| +-----------+             +-----------+             +-----------+ |
|   port:7003                 port:7001                 port:7002   |
+-------------------------------------------------------------------+
```

```
docker rmi $(docker images | awk '/^latest/ { print $3 }')
```